From 81cb68a11d61abf4e5d31edf36e6b67c405fd839 Mon Sep 17 00:00:00 2001
From: Emilian Bold <emi@apache.org>
Date: Fri, 19 Jul 2019 13:05:25 +0300
Subject: [PATCH 30/33] Include JavaFX libraries directly
License: Copyright (c) 2018, 2019 Emilian Marius Bold
 
 Permission to use, copy, modify, and distribute this software for any
 purpose with or without fee is hereby granted, provided that the above
 copyright notice and this permission notice appear in all copies.
 
 THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

---
 ergonomics/ide.ergonomics/enterprise.properties    |  3 ---
 ergonomics/ide.ergonomics/java.properties          |  6 ------
 ergonomics/ide.ergonomics/webcommon.properties     |  2 --
 extra/libs.javafx.linux/build.xml                  |  2 +-
 .../external/javafx-base-11-linux.jar.external     |  2 --
 .../external/javafx-controls-11-linux.jar.external |  2 --
 .../external/javafx-graphics-11-linux.jar.external |  2 --
 .../external/javafx-media-11-linux.jar.external    |  2 --
 .../external/javafx-swing-11-linux.jar.external    |  2 --
 .../external/javafx-web-11-linux.jar.external      |  2 --
 .../libs.javafx.linux/nbproject/project.properties |  6 ------
 extra/libs.javafx.macosx/build.xml                 |  2 +-
 .../external/javafx-base-11-mac.jar.external       |  2 --
 .../external/javafx-controls-11-mac.jar.external   |  2 --
 .../external/javafx-graphics-11-mac.jar.external   |  2 --
 .../external/javafx-media-11-mac.jar.external      |  2 --
 .../external/javafx-swing-11-mac.jar.external      |  2 --
 .../external/javafx-web-11-mac.jar.external        |  2 --
 .../nbproject/project.properties                   |  6 ------
 extra/libs.javafx.win/build.xml                    |  2 +-
 .../external/javafx-base-11-win.jar.external       |  2 --
 .../external/javafx-controls-11-win.jar.external   |  2 --
 .../external/javafx-graphics-11-win.jar.external   |  2 --
 .../external/javafx-media-11-win.jar.external      |  2 --
 .../external/javafx-swing-11-win.jar.external      |  2 --
 .../external/javafx-web-11-win.jar.external        |  2 --
 extra/libs.javafx.win/nbproject/project.properties |  6 ------
 nb/updatecenters/build.xml                         |  2 +-
 nb/updatecenters/nbproject/project.properties      |  4 ++--
 .../modules/updatecenters/resources/mf-layer.xml   |  2 ++
 nbbuild/build.xml                                  | 14 +++++++++++++-
 nbbuild/cluster.properties                         | 13 +++++++------
 32 files changed, 28 insertions(+), 78 deletions(-)
 delete mode 100644 extra/libs.javafx.linux/external/javafx-base-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.linux/external/javafx-controls-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.linux/external/javafx-graphics-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.linux/external/javafx-media-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.linux/external/javafx-swing-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.linux/external/javafx-web-11-linux.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-base-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-controls-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-graphics-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-media-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-swing-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.macosx/external/javafx-web-11-mac.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-base-11-win.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-controls-11-win.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-graphics-11-win.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-media-11-win.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-swing-11-win.jar.external
 delete mode 100644 extra/libs.javafx.win/external/javafx-web-11-win.jar.external

diff --git a/ergonomics/ide.ergonomics/enterprise.properties b/ergonomics/ide.ergonomics/enterprise.properties
index e630aa0aee..a3207697b2 100644
--- a/ergonomics/ide.ergonomics/enterprise.properties
+++ b/ergonomics/ide.ergonomics/enterprise.properties
@@ -22,6 +22,3 @@ project.xpath.nbproject/project.xml=\
 project.xpath.src/main/webapp=
 
 mainModule=org.netbeans.modules.j2ee.kit
-
-extra.modules=org.netbeans.libs.oracle.jsparser
-LBL_Ergonomics_Extra_Required=Javascript Parser is required by HTML5 features.
diff --git a/ergonomics/ide.ergonomics/java.properties b/ergonomics/ide.ergonomics/java.properties
index 6c6d171286..538fbde875 100644
--- a/ergonomics/ide.ergonomics/java.properties
+++ b/ergonomics/ide.ergonomics/java.properties
@@ -20,9 +20,3 @@ project.file.../java.base/share/classes/java/lang/Object.java=org.netbeans.modul
 projectImporter=Eclipse
 
 mainModule=org.netbeans.modules.java.kit
-extra.modules=org.netbeans.modules.nbjavac
-extra.modules.recommended.min.jdk=9
-extra.modules.1=org\\.netbeans\\.libs\\.javafx\\.(linux|win|macosx)
-
-LBL_Ergonomics_Extra_Required=Additional modules are needed to run Java SE support on JDK 8.
-LBL_Ergonomics_Extra_Recommended=Additional modules are recommended to run Java SE support.
diff --git a/ergonomics/ide.ergonomics/webcommon.properties b/ergonomics/ide.ergonomics/webcommon.properties
index a177aecc3c..cbc829e0fa 100644
--- a/ergonomics/ide.ergonomics/webcommon.properties
+++ b/ergonomics/ide.ergonomics/webcommon.properties
@@ -16,5 +16,3 @@
 # under the License.
 
 mainModule=org.netbeans.modules.web.client.kit
-extra.modules=org.netbeans.libs.oracle.jsparser
-LBL_Ergonomics_Extra_Required=Javascript Parser is required for Javascript + HTML support to work properly.
diff --git a/extra/libs.javafx.linux/build.xml b/extra/libs.javafx.linux/build.xml
index 9469085669..4c3cecf9ea 100644
--- a/extra/libs.javafx.linux/build.xml
+++ b/extra/libs.javafx.linux/build.xml
@@ -19,7 +19,7 @@
     under the License.
 
 -->
-<project basedir="." default="build" name="extra/libs.javafx.linux">
+<project basedir="." default="build" name="platform/libs.javafx.linux">
     <description>Builds, tests, and runs the project org.netbeans.libs.javafx.linux</description>
     <import file="../../nbbuild/templates/projectized.xml"/>
 </project>
diff --git a/extra/libs.javafx.linux/external/javafx-base-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-base-11-linux.jar.external
deleted file mode 100644
index 09566c0290..0000000000
--- a/extra/libs.javafx.linux/external/javafx-base-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1981012727
-URL: m2:/org.openjfx:javafx-base:11:jar:linux
diff --git a/extra/libs.javafx.linux/external/javafx-controls-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-controls-11-linux.jar.external
deleted file mode 100644
index a1aed93610..0000000000
--- a/extra/libs.javafx.linux/external/javafx-controls-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1480075818
-URL: m2:/org.openjfx:javafx-controls:11:jar:linux
diff --git a/extra/libs.javafx.linux/external/javafx-graphics-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-graphics-11-linux.jar.external
deleted file mode 100644
index aae93c7cf7..0000000000
--- a/extra/libs.javafx.linux/external/javafx-graphics-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1795026346
-URL: m2:/org.openjfx:javafx-graphics:11:jar:linux
diff --git a/extra/libs.javafx.linux/external/javafx-media-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-media-11-linux.jar.external
deleted file mode 100644
index bc3ef403af..0000000000
--- a/extra/libs.javafx.linux/external/javafx-media-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 4234379255
-URL: m2:/org.openjfx:javafx-media:11:jar:linux
\ No newline at end of file
diff --git a/extra/libs.javafx.linux/external/javafx-swing-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-swing-11-linux.jar.external
deleted file mode 100644
index 7f328e3626..0000000000
--- a/extra/libs.javafx.linux/external/javafx-swing-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1450029661
-URL: m2:/org.openjfx:javafx-swing:11:jar:linux
diff --git a/extra/libs.javafx.linux/external/javafx-web-11-linux.jar.external b/extra/libs.javafx.linux/external/javafx-web-11-linux.jar.external
deleted file mode 100644
index 4c8cc82f13..0000000000
--- a/extra/libs.javafx.linux/external/javafx-web-11-linux.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 227437070
-URL: m2:/org.openjfx:javafx-web:11:jar:linux
\ No newline at end of file
diff --git a/extra/libs.javafx.linux/nbproject/project.properties b/extra/libs.javafx.linux/nbproject/project.properties
index 2e207a1b18..16bc9f7e12 100644
--- a/extra/libs.javafx.linux/nbproject/project.properties
+++ b/extra/libs.javafx.linux/nbproject/project.properties
@@ -21,16 +21,10 @@ javac.compilerargs=-Xlint -Xlint:-serial
 is.autoload=true
 
 release.external/javafx-base-11-linux.jar=modules/ext/javafx-base-11-linux.jar
-release.external/javafx-base-11-linux.jar.external=modules/ext/javafx-base-11-linux.jar.external
 release.external/javafx-controls-11-linux.jar=modules/ext/javafx-controls-11-linux.jar
-release.external/javafx-controls-11-linux.jar.external=modules/ext/javafx-controls-11-linux.jar.external
 release.external/javafx-graphics-11-linux.jar=modules/ext/javafx-graphics-11-linux.jar
-release.external/javafx-graphics-11-linux.jar.external=modules/ext/javafx-graphics-11-linux.jar.external
 release.external/javafx-media-11-linux.jar=modules/ext/javafx-media-11-linux.jar
-release.external/javafx-media-11-linux.jar.external=modules/ext/javafx-media-11-linux.jar.external
 release.external/javafx-swing-11-linux.jar=modules/ext/javafx-swing-11-linux.jar
-release.external/javafx-swing-11-linux.jar.external=modules/ext/javafx-swing-11-linux.jar.external
 release.external/javafx-web-11-linux.jar=modules/ext/javafx-web-11-linux.jar
-release.external/javafx-web-11-linux.jar.external=modules/ext/javafx-web-11-linux.jar.external
 
 license.file.override=${nb_all}/nbbuild/licenses/GPL-2-CP
diff --git a/extra/libs.javafx.macosx/build.xml b/extra/libs.javafx.macosx/build.xml
index daee6cd6b7..4fb69393b6 100644
--- a/extra/libs.javafx.macosx/build.xml
+++ b/extra/libs.javafx.macosx/build.xml
@@ -19,7 +19,7 @@
     under the License.
 
 -->
-<project basedir="." default="build" name="extra/libs.javafx.macosx">
+<project basedir="." default="build" name="platform/libs.javafx.macosx">
     <description>Builds, tests, and runs the project org.netbeans.libs.javafx.macosx</description>
     <import file="../../nbbuild/templates/projectized.xml"/>
 </project>
diff --git a/extra/libs.javafx.macosx/external/javafx-base-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-base-11-mac.jar.external
deleted file mode 100644
index 8bdd7a96b1..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-base-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1709767977
-URL: m2:/org.openjfx:javafx-base:11:jar:mac
diff --git a/extra/libs.javafx.macosx/external/javafx-controls-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-controls-11-mac.jar.external
deleted file mode 100644
index f6a363dcaf..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-controls-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 2491711113
-URL: m2:/org.openjfx:javafx-controls:11:jar:mac
diff --git a/extra/libs.javafx.macosx/external/javafx-graphics-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-graphics-11-mac.jar.external
deleted file mode 100644
index c40cdce249..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-graphics-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 3503809833
-URL: m2:/org.openjfx:javafx-graphics:11:jar:mac
diff --git a/extra/libs.javafx.macosx/external/javafx-media-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-media-11-mac.jar.external
deleted file mode 100644
index 3332207efd..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-media-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1205665924
-URL: m2:/org.openjfx:javafx-media:11:jar:mac
\ No newline at end of file
diff --git a/extra/libs.javafx.macosx/external/javafx-swing-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-swing-11-mac.jar.external
deleted file mode 100644
index 09f4842809..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-swing-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 712623308
-URL: m2:/org.openjfx:javafx-swing:11:jar:mac
diff --git a/extra/libs.javafx.macosx/external/javafx-web-11-mac.jar.external b/extra/libs.javafx.macosx/external/javafx-web-11-mac.jar.external
deleted file mode 100644
index 96182f5977..0000000000
--- a/extra/libs.javafx.macosx/external/javafx-web-11-mac.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 1328872996
-URL: m2:/org.openjfx:javafx-web:11:jar:mac
\ No newline at end of file
diff --git a/extra/libs.javafx.macosx/nbproject/project.properties b/extra/libs.javafx.macosx/nbproject/project.properties
index b6cf0d2367..95eb80d8cd 100644
--- a/extra/libs.javafx.macosx/nbproject/project.properties
+++ b/extra/libs.javafx.macosx/nbproject/project.properties
@@ -21,16 +21,10 @@ javac.compilerargs=-Xlint -Xlint:-serial
 is.autoload=true
 
 release.external/javafx-base-11-mac.jar=modules/ext/javafx-base-11-mac.jar
-release.external/javafx-base-11-mac.jar.external=modules/ext/javafx-base-11-mac.jar.external
 release.external/javafx-controls-11-mac.jar=modules/ext/javafx-controls-11-mac.jar
-release.external/javafx-controls-11-mac.jar.external=modules/ext/javafx-controls-11-mac.jar.external
 release.external/javafx-graphics-11-mac.jar=modules/ext/javafx-graphics-11-mac.jar
-release.external/javafx-graphics-11-mac.jar.external=modules/ext/javafx-graphics-11-mac.jar.external
 release.external/javafx-media-11-mac.jar=modules/ext/javafx-media-11-mac.jar
-release.external/javafx-media-11-mac.jar.external=modules/ext/javafx-media-11-mac.jar.external
 release.external/javafx-swing-11-mac.jar=modules/ext/javafx-swing-11-mac.jar
-release.external/javafx-swing-11-mac.jar.external=modules/ext/javafx-swing-11-mac.jar.external
 release.external/javafx-web-11-mac.jar=modules/ext/javafx-web-11-mac.jar
-release.external/javafx-web-11-mac.jar.external=modules/ext/javafx-web-11-mac.jar.external
 
 license.file.override=${nb_all}/nbbuild/licenses/GPL-2-CP
diff --git a/extra/libs.javafx.win/build.xml b/extra/libs.javafx.win/build.xml
index aca97081a9..9b991263e9 100644
--- a/extra/libs.javafx.win/build.xml
+++ b/extra/libs.javafx.win/build.xml
@@ -19,7 +19,7 @@
     under the License.
 
 -->
-<project basedir="." default="build" name="extra/libs.javafx.win">
+<project basedir="." default="build" name="platform/libs.javafx.win">
     <description>Builds, tests, and runs the project org.netbeans.libs.javafx.win</description>
     <import file="../../nbbuild/templates/projectized.xml"/>
 </project>
diff --git a/extra/libs.javafx.win/external/javafx-base-11-win.jar.external b/extra/libs.javafx.win/external/javafx-base-11-win.jar.external
deleted file mode 100644
index b4ce50c213..0000000000
--- a/extra/libs.javafx.win/external/javafx-base-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC:2160969281
-URL: m2:/org.openjfx:javafx-base:11:jar:win
diff --git a/extra/libs.javafx.win/external/javafx-controls-11-win.jar.external b/extra/libs.javafx.win/external/javafx-controls-11-win.jar.external
deleted file mode 100644
index 00bbc177a3..0000000000
--- a/extra/libs.javafx.win/external/javafx-controls-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC:1720323982
-URL: m2:/org.openjfx:javafx-controls:11:jar:win
diff --git a/extra/libs.javafx.win/external/javafx-graphics-11-win.jar.external b/extra/libs.javafx.win/external/javafx-graphics-11-win.jar.external
deleted file mode 100644
index ea575b89f6..0000000000
--- a/extra/libs.javafx.win/external/javafx-graphics-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 2670942550
-URL: m2:/org.openjfx:javafx-graphics:11:jar:win
diff --git a/extra/libs.javafx.win/external/javafx-media-11-win.jar.external b/extra/libs.javafx.win/external/javafx-media-11-win.jar.external
deleted file mode 100644
index f8e4abcc74..0000000000
--- a/extra/libs.javafx.win/external/javafx-media-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 2529014611
-URL: m2:/org.openjfx:javafx-media:11:jar:win
diff --git a/extra/libs.javafx.win/external/javafx-swing-11-win.jar.external b/extra/libs.javafx.win/external/javafx-swing-11-win.jar.external
deleted file mode 100644
index 031e09ba8e..0000000000
--- a/extra/libs.javafx.win/external/javafx-swing-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC:3324970534
-URL: m2:/org.openjfx:javafx-swing:11:jar:win
diff --git a/extra/libs.javafx.win/external/javafx-web-11-win.jar.external b/extra/libs.javafx.win/external/javafx-web-11-win.jar.external
deleted file mode 100644
index 9523f7795f..0000000000
--- a/extra/libs.javafx.win/external/javafx-web-11-win.jar.external
+++ /dev/null
@@ -1,2 +0,0 @@
-CRC: 2985225211
-URL: m2:/org.openjfx:javafx-web:11:jar:win
diff --git a/extra/libs.javafx.win/nbproject/project.properties b/extra/libs.javafx.win/nbproject/project.properties
index 205dff8de6..7777c3dcfc 100644
--- a/extra/libs.javafx.win/nbproject/project.properties
+++ b/extra/libs.javafx.win/nbproject/project.properties
@@ -21,16 +21,10 @@ javac.compilerargs=-Xlint -Xlint:-serial
 is.autoload=true
 
 release.external/javafx-base-11-win.jar=modules/ext/javafx-base-11-win.jar
-release.external/javafx-base-11-win.jar.external=modules/ext/javafx-base-11-win.jar.external
 release.external/javafx-controls-11-win.jar=modules/ext/javafx-controls-11-win.jar
-release.external/javafx-controls-11-win.jar.external=modules/ext/javafx-controls-11-win.jar.external
 release.external/javafx-graphics-11-win.jar=modules/ext/javafx-graphics-11-win.jar
-release.external/javafx-graphics-11-win.jar.external=modules/ext/javafx-graphics-11-win.jar.external
 release.external/javafx-media-11-win.jar=modules/ext/javafx-media-11-win.jar
-release.external/javafx-media-11-win.jar.external=modules/ext/javafx-media-11-win.jar.external
 release.external/javafx-swing-11-win.jar=modules/ext/javafx-swing-11-win.jar
-release.external/javafx-swing-11-win.jar.external=modules/ext/javafx-swing-11-win.jar.external
 release.external/javafx-web-11-win.jar=modules/ext/javafx-web-11-win.jar
-release.external/javafx-web-11-win.jar.external=modules/ext/javafx-web-11-win.jar.external
 
 license.file.override=${nb_all}/nbbuild/licenses/GPL-2-CP
diff --git a/nb/updatecenters/build.xml b/nb/updatecenters/build.xml
index 5145b3d4b7..71ad6d14d0 100644
--- a/nb/updatecenters/build.xml
+++ b/nb/updatecenters/build.xml
@@ -24,7 +24,7 @@
 
   <import file="../../nbbuild/templates/projectized.xml"/>
 
-  <target name="compile" depends="projectized-common.compile,javafx-nbms"/>
+  <target name="compile" depends="projectized-common.compile"/>
 
   <target name="javafx-nbms" description="Prepare NBMs for 3rd party libraries" depends="projectized-common.compile">
       <tempfile destdir="${build.dir}" prefix="sign" suffix=".ks" property="netbeans.bundled.ks" deleteonexit="true" />
diff --git a/nb/updatecenters/nbproject/project.properties b/nb/updatecenters/nbproject/project.properties
index b56701d984..18119ff5ed 100644
--- a/nb/updatecenters/nbproject/project.properties
+++ b/nb/updatecenters/nbproject/project.properties
@@ -19,5 +19,5 @@ is.eager=true
 javac.compilerargs=-Xlint:unchecked
 javac.source=1.6
 
-release.build/ide.ks=core/ide.ks
-extra.module.files=core/ide.ks
+#release.build/ide.ks=core/ide.ks
+#extra.module.files=core/ide.ks
diff --git a/nb/updatecenters/src/org/netbeans/modules/updatecenters/resources/mf-layer.xml b/nb/updatecenters/src/org/netbeans/modules/updatecenters/resources/mf-layer.xml
index 0d3e1f2b04..7631e390f6 100644
--- a/nb/updatecenters/src/org/netbeans/modules/updatecenters/resources/mf-layer.xml
+++ b/nb/updatecenters/src/org/netbeans/modules/updatecenters/resources/mf-layer.xml
@@ -55,6 +55,7 @@
           <attr name="instanceCreate" methodvalue="org.netbeans.modules.autoupdate.updateprovider.AutoupdateCatalogFactory.createUpdateProvider"/>
       </file>
 
+<!--
       <file name="3rdparty.instance">
           <attr name="displayName" bundlevalue="org.netbeans.modules.updatecenters.resources.Bundle#3rdparty"/>
           <attr name="iconBase" stringvalue="org/netbeans/modules/updatecenters/resources/updateAction.gif"/>
@@ -64,6 +65,7 @@
           <attr name="instanceOf" stringvalue="org.netbeans.spi.autoupdate.UpdateProvider"/>
           <attr name="instanceCreate" methodvalue="org.netbeans.modules.autoupdate.updateprovider.AutoupdateCatalogFactory.createUpdateProvider"/>
       </file>
+-->
 
    </folder>
     
diff --git a/nbbuild/build.xml b/nbbuild/build.xml
index 83f7e952d1..f8254efa3e 100644
--- a/nbbuild/build.xml
+++ b/nbbuild/build.xml
@@ -174,7 +174,7 @@
     <sortsuitemodules unsortedmodules="${modules.fullpath}" sortedmodulesproperty="modules.sorted"/>
   </target>
 
-  <target name="init" depends="init-module-list,set-buildnumber">
+  <target name="init" depends="init-coolbeans,init-module-list,set-buildnumber">
     <fail message="You need to have some modules checked out to build NetBeans. For example, try running the 'checkout' target.">
         <condition>
             <not>
@@ -2169,4 +2169,16 @@ It is possible to use -Ddebug.port=3234 -Ddebug.pause=y to start the system in d
         <reportFromLicenseinfo nball=".." report="${nb.build.dir}/rat-appendix.txt" />
     </target>
 
+    <target name="init-coolbeans">
+        <copy todir="../platform/libs.javafx.linux">
+		<fileset dir="../extra/libs.javafx.linux" />
+	</copy>
+        <copy todir="../platform/libs.javafx.macosx">
+		<fileset dir="../extra/libs.javafx.macosx" />
+	</copy>
+        <copy todir="../platform/libs.javafx.win">
+		<fileset dir="../extra/libs.javafx.win" />
+	</copy>
+    </target>
+
 </project>
diff --git a/nbbuild/cluster.properties b/nbbuild/cluster.properties
index c8a690a5c8..3bcadf69bc 100644
--- a/nbbuild/cluster.properties
+++ b/nbbuild/cluster.properties
@@ -95,7 +95,6 @@ clusters.config.java.list=\
         nb.cluster.java,\
         nb.cluster.javafx,\
         nb.cluster.profiler,\
-        nb.cluster.3rdparty,\
         nb.cluster.nb
 
 clusters.config.enterprise.list=\
@@ -227,6 +226,9 @@ nb.cluster.platform=\
         lib.uihandler,\
         libs.felix,\
         libs.javafx,\
+        libs.javafx.linux,\
+        libs.javafx.macosx,\
+        libs.javafx.win,\
         libs.jna,\
         libs.jna.platform,\
         libs.jsr223,\
@@ -861,7 +863,6 @@ nb.cluster.nb.dir=nb
 nb.cluster.nb.depends=\
         nb.cluster.platform,\
         nb.cluster.ide,\
-        nb.cluster.3rdparty,\
         nb.cluster.harness
 nb.cluster.nb=\
         autoupdate.pluginimporter,\
@@ -877,10 +878,10 @@ nb.cluster.nb=\
 nb.cluster.3rdparty.dir=extra
 nb.cluster.3rdparty.depends=\
         nb.cluster.platform
-nb.cluster.3rdparty=\
-        libs.javafx.linux,\
-        libs.javafx.macosx,\
-        libs.javafx.win
+nb.cluster.3rdparty=
+#       libs.javafx.linux,\
+#       libs.javafx.macosx,\
+#       libs.javafx.win
 
 
 nb.cluster.harness.dir=harness
-- 
2.21.0

